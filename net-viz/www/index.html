<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8 />
		<meta name="viewport" content="user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
		<title>CONIX Vizualization Demo</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
		<link href="style.css" rel="stylesheet" />
		<!-- polyfills so the demo works on old browsers, like IE -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.2.20171210/classList.min.js"></script>
		<script src="https://unpkg.com/bluebird@3.5.2/js/browser/bluebird.js"></script>
		<script src="https://unpkg.com/whatwg-fetch@3.0.0/dist/fetch.umd.js"></script>
		<!-- libs used by demo -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.0/lodash.min.js"></script>
		<script src="https://unpkg.com/webcola@3.3.8/WebCola/cola.min.js"></script>
		<script src="https://unpkg.com/popper.js@1.14.4/dist/umd/popper.js"></script>
		<script src="https://unpkg.com/tippy.js@2.6.0/dist/tippy.all.js"></script>
		<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.5.7/shim.min.js"></script>-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
		<!-- cy libs -->
		<script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
		<script src="https://unpkg.com/layout-base/layout-base.js"></script>
		<script src="https://unpkg.com/avsdf-base/avsdf-base.js"></script>
		<script src="https://ivis-at-bilkent.github.io/cytoscape.js-avsdf/cytoscape-avsdf.js"></script>
		<script src="https://unpkg.com/cose-base/cose-base.js"></script>
		<script src="https://cytoscape.org/cytoscape.js-cose-bilkent/cytoscape-cose-bilkent.js"></script>
	</head>
	<body>
		<div id="cy"></div>
		<span class="fa fa-bars config-toggle" id="config-toggle"></span>
		<div id="config" class="config">
			<div class="preamble">
				<span class="label label-info">CONIX Vizualization Demo</span>
				<p/>
					<button class="button" onclick="runLayout()">Arrange Nodes</button><p/>
					<button class="button" onclick="deleteState()">Clear State</button>
			</div>
				<!--<div id="runtime_div" style="display: none;">-->
			<div id="runtime_div">
				<p id="runtime_name">Runtime </p>
				<table>
					<tr>
						<td span=2><p>Install Module</p></td>
					</tr><tr>
					<td><p style="display:inline">WASM program:</p></td>
					<td>
						<select id="module_select" name="module_select">
							<option value="cube.wasm">cube.wasm</option>
							<option value="arena-demo.wasm">arena-demo.wasm</option>
							<option value="mqtt_publisher.wasm">mqtt_publisher.wasm</option>
							<option value="mqtt_subscriber.wasm">mqtt_subscriber.wasm</option>
						</select><p/>
					</td></tr><tr>
					<td><p style="display:inline">Module Name:</p></td>
					<td><input type="text" size=23 id="module_name" value="mod1"></td>
					<tr><td></td><td align="right"><button class="button" onclick="install()">Install Module</button></td></tr>
					<!--<tr><td span=2><button onclick="deleteRuntime()">Delete Runtime</button></td></tr>-->
				</table>

			</div>
			<div class="status">
				<p style="display:inline">Server: </p>
				<input type="text" size=27 id="mqtt_server" value="oz.andrew.cmu.edu">:
				<input type="text" size=4 id="mqtt_port" value="9001">
				<button onclick="reConnect()">Connect</button>
				<p/>
				<textarea id="status-box" rows="10" cols="50"></textarea>
			</div>
							
			<!-- demo src-->
			<script src="code.js"></script>
		</div>
	</body>
</html>
